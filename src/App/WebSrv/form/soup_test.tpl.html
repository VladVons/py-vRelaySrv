{% extends "Layout.tpl.html" %}

{% block head %}
    <link href="/css/jquery-linedtextarea.css" type="text/css" rel="stylesheet"/>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="/js/jquery-linedtextarea.js"></script>
    <script>
        $(function() {
            $('.lined').linedtextarea({
                selectedLine: 0
            });
        });

        function Btn_Go() {
        if (document.getElementById('Url0').value == '') {
            alert('Url is empty');
            return;
        }

        let Url = document.getElementById('Url0').value;
        window.open(Url, '_blank').focus();
    };
    </script>
{% endblock %}

{% block content %}
<form name="Form" method="post" action="/form/soup_test" enctype="multipart/form-data">
    <table width="100%">
        <tr>
            <td>url</td>
            <td>
                <input type="text" name="Url0" id="Url0" placeholder="Url" style="width:95%" required value="{{ Data.Url0 }}">
                <button onclick="Btn_Go()">go</button>
            </td>
        </tr>
        <tr>
            <td>Script</td>
            <td><textarea name="Script" class="lined" rows="30" required>{{ Data.Script }}</textarea></td>
        </tr>
        <tr>
            <td>Output</td>
            <td><textarea readonly name="Output" rows="10">{{ Data.Output }}</textarea></td>
        <tr>
            <td colspan="2" style="text-align:center">
                <input type="submit" name="BtnOk" value="OK" class="btn">
            </td>
        </tr>
    </table>
</form>
{% endblock %}
